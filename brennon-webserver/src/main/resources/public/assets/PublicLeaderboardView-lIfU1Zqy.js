import{d as v,p as f,o as g,a as s,c as l,b as e,F as b,r as h,n as u,t as r,e as y,w as x,f as w,g as p,h as V,i as C,l as L,_ as B}from"./index-DboNhKyU.js";const N={class:"public-leaderboard"},P={class:"card",style:{"margin-bottom":"16px"}},M={class:"stat-selector"},S=["onClick"],$={class:"card"},D={key:0,class:"loading"},F={key:1},T={style:{"text-align":"right","font-weight":"600"}},z={key:0},E=v({__name:"PublicLeaderboardView",setup(I){const m=[{id:"playtime",label:"Playtime"},{id:"kills",label:"Kills"},{id:"deaths",label:"Deaths"},{id:"blocks_placed",label:"Blocks Placed"},{id:"blocks_broken",label:"Blocks Broken"},{id:"messages_sent",label:"Messages Sent"}],o=p("playtime"),n=p([]),d=p(!1);async function _(){d.value=!0;try{const i=await V.get(`/api/public/leaderboard/${o.value}`,{params:{limit:25}});n.value=i.data.entries||[]}catch{n.value=[]}d.value=!1}function k(i,a){if(i==="playtime"){const c=Math.floor(a/3600),t=Math.floor(a%3600/60);return`${c}h ${t}m`}return a.toLocaleString()}return f(o,_),g(_),(i,a)=>{const c=C("router-link");return s(),l("div",N,[a[2]||(a[2]=e("div",{class:"page-header"},[e("div",null,[e("h1",null,"Leaderboard"),e("p",{class:"subtitle"},"Top players across the network")])],-1)),e("div",P,[e("div",M,[(s(),l(b,null,h(m,t=>e("button",{key:t.id,class:u(["stat-btn",{active:o.value===t.id}]),onClick:K=>o.value=t.id},r(t.label),11,S)),64))])]),e("div",$,[d.value?(s(),l("div",D,"Loading...")):(s(),l("table",F,[a[1]||(a[1]=e("thead",null,[e("tr",null,[e("th",{style:{width:"60px"}},"#"),e("th",null,"Player"),e("th",{style:{"text-align":"right"}},"Value")])],-1)),e("tbody",null,[(s(!0),l(b,null,h(n.value,t=>(s(),l("tr",{key:t.uuid,class:u({"top-3":t.rank<=3})},[e("td",null,[e("span",{class:u(["rank-num","rank-"+t.rank])},r(t.rank),3)]),e("td",null,[y(c,{to:"/players/"+t.uuid,class:"player-link"},{default:x(()=>[L(r(t.name),1)]),_:2},1032,["to"])]),e("td",T,r(k(o.value,t.value)),1)],2))),128)),n.value.length===0?(s(),l("tr",z,[...a[0]||(a[0]=[e("td",{colspan:"3",style:{"text-align":"center",color:"var(--text-muted)"}}," No data available for this stat. ",-1)])])):w("",!0)])]))])])}}}),j=B(E,[["__scopeId","data-v-63d4b958"]]);export{j as default};
