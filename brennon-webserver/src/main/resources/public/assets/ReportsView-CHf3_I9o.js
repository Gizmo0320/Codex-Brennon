import{d as f,l as y,j as d,o as n,c as l,a as t,F as g,n as h,t as a,q as v,e as r,r as k}from"./index-DUiR62IA.js";const _={class:"card"},C={style:{"font-size":"12px"}},S=["onClick"],x=["onClick"],D=["onClick"],E={key:0},N=f({__name:"ReportsView",setup(R){const u=k([]);y(i);async function i(){const o=await d.get("/reports");u.value=o.data}async function m(o){await d.put(`/reports/${o}/claim`,{staffUuid:"00000000-0000-0000-0000-000000000000"}),await i()}async function c(o,s){await d.put(`/reports/${o}/resolve`,{status:s}),await i()}return(o,s)=>(n(),l("div",null,[t("div",{class:"page-header"},[s[0]||(s[0]=t("h1",null,"Reports",-1)),t("button",{onClick:i},"Refresh")]),t("div",_,[t("table",null,[s[2]||(s[2]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Reporter"),t("th",null,"Target"),t("th",null,"Reason"),t("th",null,"Server"),t("th",null,"Status"),t("th",null,"Actions")])],-1)),t("tbody",null,[(n(!0),l(g,null,h(u.value,e=>(n(),l("tr",{key:e.id},[t("td",C,a(e.id.substring(0,8))+"...",1),t("td",null,a(e.reporterName),1),t("td",null,a(e.targetName),1),t("td",null,a(e.reason),1),t("td",null,a(e.server),1),t("td",null,[t("span",{class:v(["badge",e.status==="OPEN"?"online":"offline"])},a(e.status),3)]),t("td",null,[e.status==="OPEN"?(n(),l("button",{key:0,onClick:p=>m(e.id),style:{"margin-right":"4px","font-size":"12px"}},"Claim",8,S)):r("",!0),e.status!=="RESOLVED"?(n(),l("button",{key:1,class:"success",onClick:p=>c(e.id,"RESOLVED"),style:{"margin-right":"4px","font-size":"12px"}},"Resolve",8,x)):r("",!0),e.status!=="DISMISSED"?(n(),l("button",{key:2,class:"danger",onClick:p=>c(e.id,"DISMISSED"),style:{"font-size":"12px"}},"Dismiss",8,D)):r("",!0)])]))),128)),u.value.length===0?(n(),l("tr",E,[...s[1]||(s[1]=[t("td",{colspan:"7",style:{"text-align":"center",color:"var(--text-secondary)"}},"No open reports",-1)])])):r("",!0)])])])]))}});export{N as default};
