import{d as m,o as g,x as d,a as n,c as l,b as t,F as y,r as h,t as a,n as v,f as r,g as k}from"./index-DboNhKyU.js";const _={class:"card"},x={style:{"font-size":"12px"}},C=["onClick"],S=["onClick"],b=["onClick"],D={key:0},N=m({__name:"ReportsView",setup(E){const u=k([]);g(i);async function i(){const o=await d.get("/reports");u.value=o.data}async function f(o){await d.put(`/reports/${o}/claim`,{staffUuid:"00000000-0000-0000-0000-000000000000"}),await i()}async function c(o,s){await d.put(`/reports/${o}/resolve`,{status:s}),await i()}return(o,s)=>(n(),l("div",null,[t("div",{class:"page-header"},[s[0]||(s[0]=t("h1",null,"Reports",-1)),t("button",{onClick:i},"Refresh")]),t("div",_,[t("table",null,[s[2]||(s[2]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Reporter"),t("th",null,"Target"),t("th",null,"Reason"),t("th",null,"Server"),t("th",null,"Status"),t("th",null,"Actions")])],-1)),t("tbody",null,[(n(!0),l(y,null,h(u.value,e=>(n(),l("tr",{key:e.id},[t("td",x,a(e.id.substring(0,8))+"...",1),t("td",null,a(e.reporterName),1),t("td",null,a(e.targetName),1),t("td",null,a(e.reason),1),t("td",null,a(e.server),1),t("td",null,[t("span",{class:v(["badge",e.status==="OPEN"?"online":"offline"])},a(e.status),3)]),t("td",null,[e.status==="OPEN"?(n(),l("button",{key:0,onClick:p=>f(e.id),style:{"margin-right":"4px","font-size":"12px"}},"Claim",8,C)):r("",!0),e.status!=="RESOLVED"?(n(),l("button",{key:1,class:"success",onClick:p=>c(e.id,"RESOLVED"),style:{"margin-right":"4px","font-size":"12px"}},"Resolve",8,S)):r("",!0),e.status!=="DISMISSED"?(n(),l("button",{key:2,class:"danger",onClick:p=>c(e.id,"DISMISSED"),style:{"font-size":"12px"}},"Dismiss",8,b)):r("",!0)])]))),128)),u.value.length===0?(n(),l("tr",D,[...s[1]||(s[1]=[t("td",{colspan:"7",style:{"text-align":"center",color:"var(--text-secondary)"}},"No open reports",-1)])])):r("",!0)])])])]))}});export{N as default};
