import{d as _,o as u,c as d,a as o,w as f,b as p,v,t as c,e as b,f as k,g as y,r as a,h as x,u as V,i as h,j as C,k as N,_ as B}from"./index-DUiR62IA.js";const L={class:"login-page"},D={class:"login-card card"},I={class:"form-group"},P={class:"form-group"},S={key:0,class:"error"},U=["disabled"],M={class:"switch-link"},T=_({__name:"LoginView",setup(j){const m=V(),n=a(""),l=a(""),t=a(""),s=a(!1);async function g(){t.value="",s.value=!0;try{const i=await C.post("/auth/login",{username:n.value,password:l.value});localStorage.setItem("brennon_token",i.data.token),N.connect(),m.push("/"),window.location.reload()}catch{t.value="Invalid username or password"}s.value=!1}return(i,e)=>{const w=x("router-link");return u(),d("div",L,[o("div",D,[e[5]||(e[5]=o("h1",null,"Brennon",-1)),e[6]||(e[6]=o("p",null,"Network Dashboard",-1)),o("form",{onSubmit:f(g,["prevent"])},[o("div",I,[e[2]||(e[2]=o("label",null,"Username",-1)),p(o("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>n.value=r),type:"text",autofocus:""},null,512),[[v,n.value]])]),o("div",P,[e[3]||(e[3]=o("label",null,"Password",-1)),p(o("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>l.value=r),type:"password"},null,512),[[v,l.value]])]),t.value?(u(),d("div",S,c(t.value),1)):b("",!0),o("button",{type:"submit",disabled:s.value,style:{width:"100%","margin-top":"8px"}},c(s.value?"Logging in...":"Login"),9,U)],32),o("div",M,[k(w,{to:"/player-login"},{default:y(()=>[...e[4]||(e[4]=[h("Player Portal",-1)])]),_:1})])])])}}}),R=B(T,[["__scopeId","data-v-f2039cd7"]]);export{R as default};
