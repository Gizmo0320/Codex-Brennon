import{d as P,o as w,a as o,c as s,b as t,t as l,F as x,r as C,e as M,w as N,n as S,f as g,g as u,k as y,h as V,i as D,l as L,_ as B}from"./index-DboNhKyU.js";const F={class:"public-players"},J={class:"page-header"},O={class:"subtitle"},R={class:"card"},T={key:0,class:"loading"},$={key:1},z={key:0},A={key:2,class:"pagination"},E=["disabled"],I={class:"page-info"},U=["disabled"],j=P({__name:"PublicPlayersView",setup(q){const r=u([]),c=u(0),d=u(20),f=u(0),v=u(!1),_=y(()=>Math.ceil(c.value/d.value)),i=y(()=>Math.floor(f.value/d.value)+1);async function p(){v.value=!0;try{const n=await V.get("/api/public/players",{params:{limit:d.value,offset:f.value}});r.value=n.data.players,c.value=n.data.total}catch{r.value=[]}v.value=!1}function h(n){f.value=(n-1)*d.value,p()}function m(n){return new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function b(n){const e=Math.floor((Date.now()-n)/1e3);return e<60?"Just now":e<3600?Math.floor(e/60)+"m ago":e<86400?Math.floor(e/3600)+"h ago":e<604800?Math.floor(e/86400)+"d ago":m(n)}return w(p),(n,e)=>{const k=D("router-link");return o(),s("div",F,[t("div",J,[t("div",null,[e[2]||(e[2]=t("h1",null,"Players",-1)),t("p",O,l(c.value)+" total players",1)])]),t("div",R,[v.value?(o(),s("div",T,"Loading...")):(o(),s("table",$,[e[4]||(e[4]=t("thead",null,[t("tr",null,[t("th",null,"Player"),t("th",null,"Rank"),t("th",null,"First Joined"),t("th",null,"Last Seen"),t("th",null,"Status")])],-1)),t("tbody",null,[(o(!0),s(x,null,C(r.value,a=>(o(),s("tr",{key:a.uuid},[t("td",null,[M(k,{to:"/players/"+a.uuid,class:"player-link"},{default:N(()=>[L(l(a.name),1)]),_:2},1032,["to"])]),t("td",null,l(a.primaryRank),1),t("td",null,l(m(a.firstJoin)),1),t("td",null,l(a.online?"Now":b(a.lastSeen)),1),t("td",null,[t("span",{class:S(["badge",a.online?"online":"offline"])},l(a.online?"Online":"Offline"),3)])]))),128)),r.value.length===0?(o(),s("tr",z,[...e[3]||(e[3]=[t("td",{colspan:"5",style:{"text-align":"center",color:"var(--text-muted)"}},"No players found.",-1)])])):g("",!0)])])),_.value>1?(o(),s("div",A,[t("button",{disabled:i.value<=1,onClick:e[0]||(e[0]=a=>h(i.value-1))},"Prev",8,E),t("span",I,"Page "+l(i.value)+" of "+l(_.value),1),t("button",{disabled:i.value>=_.value,onClick:e[1]||(e[1]=a=>h(i.value+1))},"Next",8,U)])):g("",!0)])])}}}),H=B(j,[["__scopeId","data-v-72094a5d"]]);export{H as default};
