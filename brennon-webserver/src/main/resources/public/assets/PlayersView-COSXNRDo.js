import{d as h,o as _,x as p,a as o,c as r,b as e,m as f,v as g,A as x,t as i,F as b,r as w,e as k,w as N,f as V,g as u,i as C,s as P,l as S}from"./index-DboNhKyU.js";const B={class:"card",style:{"margin-bottom":"16px"}},$={style:{display:"flex",gap:"8px"}},A=["disabled"],D={class:"card"},F={style:{"margin-bottom":"12px"}},K={key:0},T=h({__name:"PlayersView",setup(M){const v=P(),s=u([]),n=u(""),c=u(null),d=u(!1);_(async()=>{const l=await p.get("/players/online");s.value=l.data});async function y(){if(n.value){d.value=!0;try{const l=await p.get(`/players/name/${n.value}`);c.value=l.data,v.push(`/admin/players/${l.data.uuid}`)}catch{c.value=null,alert("Player not found")}d.value=!1}}return(l,t)=>{const m=C("router-link");return o(),r("div",null,[t[4]||(t[4]=e("div",{class:"page-header"},[e("h1",null,"Players")],-1)),e("div",B,[e("div",$,[f(e("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>n.value=a),placeholder:"Search by name...",onKeyup:x(y,["enter"])},null,544),[[g,n.value]]),e("button",{onClick:y,disabled:d.value},"Search",8,A)])]),e("div",D,[e("h3",F,"Online Players ("+i(s.value.length)+")",1),e("table",null,[t[3]||(t[3]=e("thead",null,[e("tr",null,[e("th",null,"Name"),e("th",null,"Server"),e("th",null,"Actions")])],-1)),e("tbody",null,[(o(!0),r(b,null,w(s.value,a=>(o(),r("tr",{key:a.uuid},[e("td",null,i(a.name),1),e("td",null,i(a.server),1),e("td",null,[k(m,{to:`/admin/players/${a.uuid}`},{default:N(()=>[...t[1]||(t[1]=[S("View",-1)])]),_:1},8,["to"])])]))),128)),s.value.length===0?(o(),r("tr",K,[...t[2]||(t[2]=[e("td",{colspan:"3",style:{"text-align":"center",color:"var(--text-secondary)"}},"No players online",-1)])])):V("",!0)])])])])}}});export{T as default};
