import{d as _,l as k,j as y,o as a,c as o,a as t,e as g,F as m,t as l,i,q as h,n as b,s as R,r}from"./index-DUiR62IA.js";const S={key:0,class:"card"},w={class:"card"},A={style:{color:"var(--text-secondary)","margin-top":"4px"}},F={style:{"margin-top":"12px",display:"flex",gap:"16px","flex-wrap":"wrap"}},$={style:{"margin-top":"8px",display:"flex",gap:"16px"}},B={key:0,class:"card"},C={style:{display:"grid","grid-template-columns":"repeat(auto-fill, minmax(160px, 1fr))",gap:"8px"}},N={style:{color:"var(--text-secondary)","font-size":"12px"}},O={style:{"font-size":"18px","font-weight":"600"}},P={class:"card"},V={style:{"margin-bottom":"12px"}},j={key:0},E=_({__name:"PlayerDetailView",setup(z){const u=R().params.uuid,s=r(null),d=r([]),c=r({}),x=r(0),f=r(!0);return k(async()=>{try{const[v,e,n]=await Promise.all([y.get(`/players/${u}`),y.get(`/punishments/${u}`),y.get(`/economy/${u}`)]);s.value=v.data,d.value=e.data,x.value=n.data.balance;try{const p=await y.get(`/stats/${u}`);c.value=p.data.stats}catch{}}catch(v){console.error("Failed to load player:",v)}f.value=!1}),(v,e)=>(a(),o("div",null,[e[9]||(e[9]=t("div",{class:"page-header"},[t("h1",null,"Player Detail")],-1)),f.value?(a(),o("div",S,"Loading...")):g("",!0),s.value?(a(),o(m,{key:1},[t("div",w,[t("h2",null,l(s.value.name),1),t("p",A,l(s.value.uuid),1),t("div",F,[t("div",null,[e[0]||(e[0]=t("strong",null,"Ranks:",-1)),i(" "+l(s.value.ranks.join(", ")||"None"),1)]),t("div",null,[e[1]||(e[1]=t("strong",null,"Server:",-1)),i(" "+l(s.value.lastServer||"Offline"),1)]),t("div",null,[e[2]||(e[2]=t("strong",null,"Status:",-1)),t("span",{class:h(["badge",s.value.online?"online":"offline"])},l(s.value.online?"Online":"Offline"),3)]),t("div",null,[e[3]||(e[3]=t("strong",null,"Balance:",-1)),i(" $"+l(x.value.toFixed(2)),1)])]),t("div",$,[t("div",null,[e[4]||(e[4]=t("strong",null,"First Join:",-1)),i(" "+l(s.value.firstJoin),1)]),t("div",null,[e[5]||(e[5]=t("strong",null,"Last Seen:",-1)),i(" "+l(s.value.lastSeen),1)])])]),Object.keys(c.value).length>0?(a(),o("div",B,[e[6]||(e[6]=t("h3",{style:{"margin-bottom":"12px"}},"Stats",-1)),t("div",C,[(a(!0),o(m,null,b(c.value,(n,p)=>(a(),o("div",{key:p,style:{padding:"8px",background:"var(--bg-input)","border-radius":"6px"}},[t("div",N,l(p),1),t("div",O,l(n),1)]))),128))])])):g("",!0),t("div",P,[t("h3",V,"Punishment History ("+l(d.value.length)+")",1),t("table",null,[e[8]||(e[8]=t("thead",null,[t("tr",null,[t("th",null,"Type"),t("th",null,"Reason"),t("th",null,"Issued"),t("th",null,"Active")])],-1)),t("tbody",null,[(a(!0),o(m,null,b(d.value,n=>(a(),o("tr",{key:n.id},[t("td",null,l(n.type),1),t("td",null,l(n.reason),1),t("td",null,l(n.issuedAt),1),t("td",null,[t("span",{class:h(["badge",n.isActive?"online":"offline"])},l(n.isActive?"Active":"Expired"),3)])]))),128)),d.value.length===0?(a(),o("tr",j,[...e[7]||(e[7]=[t("td",{colspan:"4",style:{"text-align":"center",color:"var(--text-secondary)"}},"Clean record",-1)])])):g("",!0)])])])],64)):g("",!0)]))}});export{E as default};
